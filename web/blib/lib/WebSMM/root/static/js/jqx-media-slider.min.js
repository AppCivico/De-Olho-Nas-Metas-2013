/*! jqx-media-slider 2014-12-13 */
!function(a,b){function c(a,b){this._optionsFilter(b),this.container=a,a.html(this.getMainContainerTmplt()),this.movingBoxHolder=this.container.find("[data-jqx-moving-box-holder]"),this.movingBox=this.container.find("[data-jqx-moving-box]"),this.buttons={left:this.container.find("[data-jqx-left-btn]"),right:this.container.find("[data-jqx-right-btn]")},this.sliderButtonsInit(),this._bindEvents(a),this.itemlist=[],this.appendItems(this.options.items)}c.prototype._optionsFilter=function(a){this.options=a||{},this.options.itemWidth=parseFloat(a.itemWidth)||50,this.options.itemHeight=parseFloat(a.itemHeight)||50,this.options.widthBetweenItems="undefined"==typeof a.widthBetweenItems?3:parseFloat(a.widthBetweenItems),this.options.itemRender=a.itemRender||this.defaultItemRenderFunction,this.options.changeOffset=parseFloat(a.changeOffset)||a.itemWidth+parseFloat(a.widthBetweenItems)/2,this.options.items=a.items||[],this.options.widthOfSliderButtons=parseFloat(a.widthOfSliderButtons)||20,this.options.sliderButtons="in"===a.sliderButtons||"hidden"===a.sliderButtons?a.sliderButtons:"out"},c.prototype.sliderButtonsInit=function(){var a="no-margin",b="hide",c="width";"in"===this.options.sliderButtons?this.movingBoxHolder.addClass(a):"hidden"===this.options.sliderButtons&&(this.movingBoxHolder.addClass(a),this.buttons.left.addClass(b),this.buttons.right.addClass(b)),this.buttons.left.css(c,this.options.widthOfSliderButtons),this.buttons.right.css(c,this.options.widthOfSliderButtons)},c.prototype.trigger=function(a){var b=this;b.container.trigger("jqx-media-slider-"+a)},c.prototype.enableButton=function(a,b){var c=this,d=b?"removeClass":"addClass";return"left"===a?void c.buttons.left[d]("disable"):"right"===a?void c.buttons.right[d]("disable"):(c.buttons.left[d]("disable"),void c.buttons.right[d]("disable"))},c.prototype._bindEvents=function(){var a=this,c=this.container;c.on("click.jqxmsevents","[data-jqx-left-btn]",function(){b(this);return a.isMovingBoxSmall()?(a.trigger("start"),void a.trigger("end")):void a.moveLeft()}),c.on("click.jqxmsevents","[data-jqx-right-btn]",function(){b(this);return a.isMovingBoxSmall()?(a.trigger("start"),a.trigger("end"),void a.buttons.right.addClass("disable")):void a.moveRight()}),c.on("click.jqxmsevents","[data-jqx-item-box]",function(){c.trigger("item-cliked")})},c.prototype.renderItemContainer=function(a){this.movingBox.append(this.getItemContainerTmplt({context:a}))},c.prototype.getWidthOfMovingBox=function(){var a=this.itemlist.length*this.options.itemWidth+(this.itemlist.length-1)*this.options.widthBetweenItems;return a},c.prototype.getVisibleWidth=function(){return parseFloat(this.movingBoxHolder.width())},c.prototype.isMovingBoxSmall=function(){return this.getWidthOfMovingBox()<=this.getVisibleWidth()},c.prototype.isInLimit=function(a){var b=this.getVisibleWidth(),c=this.getWidthOfMovingBox();return 0>=a?a+c-b:a},c.prototype.moveLeft=function(a){var b=this;a=a||b.options.changeOffset,b.movingBox.css("left",function(c,d){var e=parseInt(d)+a;return e>=0?(b.trigger("start"),b.checkEndsNEnbaleButtons(0),"0px"):(b.checkEndsNEnbaleButtons(e),e+"px")})},c.prototype.moveRight=function(a){var b=this;a=a||b.options.changeOffset,b.movingBox.css("left",function(c,d){var e=parseFloat(d)-a,f=b.isInLimit(e);return 0>=f?(b.trigger("end"),b.checkEndsNEnbaleButtons(e-f),e-f+"px"):(b.checkEndsNEnbaleButtons(e),e+"px")})},c.prototype.checkEndsNEnbaleButtons=function(a){var b,c,d=this;b="undefined"==typeof a?parseFloat(d.movingBox.css("left")):a,c=d.isInLimit(b),b>=0?d.enableButton("left",!1):d.enableButton("left",!0),0>=c?d.enableButton("right",!1):d.enableButton("right",!0)},c.prototype.appendItems=function(a){var b=this,c=a||[];b.itemlist=b.itemlist.concat(c),c.forEach(function(a){b.renderItemContainer(a)}),b.isMovingBoxSmall()?b.enableButton("both",!1):b.checkEndsNEnbaleButtons()},c.prototype.getMainContainerTmplt=function(){var a='<div class="jqx-media-slider">                         <div class="jqx-btn jqx-btn-right jqx-absolute" data-jqx-right-btn="">                             <div class="jqx-triangle-right jqx-in-middle"></div>                         </div>                         <div class="jqx-btn jqx-btn-left jqx-absolute disable" data-jqx-left-btn="">                             <div class="jqx-triangle-left jqx-in-middle"></div>                         </div>                         <div class="jqx-moving-box-holder" data-jqx-moving-box-holder="">                             <div class="jqx-moving-box jqx-relative" data-jqx-moving-box=""></div>                         </div>                     </div>';return a},c.prototype.getItemContainerTmplt=function(a){var c,d=this.options.itemRender(a.context);return c=b("<div>").addClass("jqx-item-box").attr("data-jqx-item-box","").css({height:this.options.itemHeight+"px",width:this.options.itemWidth+"px",marginRight:this.options.widthBetweenItems+"px"}).html(d),b("<div>").append(c.clone()).html()},c.prototype.defaultItemRenderFunction=function(a){return b("<img>").attr("src",a.src).attr("alt",a.alt||"").addClass("jqx-dr-image").clone()},c.prototype.destroy=function(){this.container.off("jqxmsevents"),this.container.empty()},b.fn.mediaSlider=function(a){var d,e,f=b(this);return(e=b(this).data("jqx-media-slider"))?"destroy"===a?(e.destroy(),void f.data("jqx-media-slider",null)):e:(d=new c(this,a),e=b.extend(this,{appendItems:function(a){d.appendItems(a)},next:function(){d.moveRight()},prev:function(){d.moveLeft()},destroy:function(){d.destroy(),f.data("jqx-media-slider",null)}}),f.data("jqx-media-slider",e),e)}}(window,jQuery);